webpackJsonp([1],{"/4j5":function(e,t,n){"use strict";var a=n("woOf"),i=n.n(a),r=n("M3D8"),c=(n.n(r),n("4SYU")),l=n("WbEP");t.a={name:"u-table",components:{uBody:c.a,uHead:l.a},props:{height:{type:String,default:function(){return"auto"}},columns:{type:Array},data:{type:Array}},computed:{headHeight:function(){return"20px"},fixBodyHeight:function(){return"auto"!==this.height?this.height.replace("px","")-this.headHeight.replace("px","")+"px":"auto"},caculateStyle:function(){return{width:"100%",maxWidth:this.tableWidth+"px"}},tableWidth:function(){return this.columns.map(function(e){return e.hidden?0:e.width||0}).reduce(function(e,t){return e+t},0)},leftFixedColumns:function(){var e=[],t=[];return this.cloneColumns.forEach(function(n){n.fixed?e.push(n):t.push(n)}),e.concat(t)},fixedTableStyle:function(){var e={},t=0;return this.leftFixedColumns.forEach(function(e){e.fixed&&!e.hidden&&(t+=e.width)}),e.width=t+"px",e},cloneColumns:function(){var e=[];return this.columns.forEach(function(t){e.push(i()({},t))}),e}},methods:{handleBodyScroll:function(e){this.$refs.header.scrollLeft=e.target.scrollLeft,this.$refs.fixedBody.scrollTop=e.target.scrollTop}}}},"07ry":function(e,t){},"0mAl":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("hello")],1)},i=[],r={render:a,staticRenderFns:i};t.a=r},"1rbW":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ucloud-head"},[n("table",{style:{width:e.tableWidth+"px"},attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[n("colgroup",e._l(e.effectedCols,function(t,a){return t.hidden?e._e():n("col",{attrs:{width:e.setCellWidth(t,a)}})})),e._v(" "),n("thead",[n("tr",e._l(e.mainCols,function(t,a){return t.hidden?e._e():n("th",{attrs:{colspan:t.colspan,rowspan:t.rowspan}},[n("div",[t.renderHeader?e._e():n("span",{attrs:{title:t.title}},[e._v(e._s(t.title||""))])])])})),e._v(" "),e.subCols.length>0?n("tr",e._l(e.subCols,function(t,a){return t.hidden?e._e():n("th",{attrs:{colspan:t.colspan,rowspan:t.rowspan}},[n("div",[t.renderHeader?e._e():n("span",{attrs:{title:t.title}},[e._v(e._s(t.title||""))])])])})):e._e()])])])},i=[],r={render:a,staticRenderFns:i};t.a=r},"3x1F":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ucloud-body"},[n("table",{style:{width:e.tableWidth+"px"},attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[n("colgroup",e._l(e.effectedCols,function(t,a){return t.hidden?e._e():n("col",{attrs:{width:e.setCellWidth(t,a)}})})),e._v(" "),e._l(e.data,function(t,a){return[n("tr",e._l(e.effectedCols,function(i){return i.hidden?e._e():n("td",{class:{fixed:e.fixed&&i.fixed,visibilityhidden:e.fixed&&!i.fixed}},[n("Cell",{attrs:{row:t,column:i,index:a,"natural-index":a}})],1)}))]})],2)])},i=[],r={render:a,staticRenderFns:i};t.a=r},"4SYU":function(e,t,n){"use strict";var a=n("qX34"),i=n("3x1F"),r=n("VU/8"),c=r(a.a,i.a,null,null,null);t.a=c.exports},"5RII":function(e,t,n){"use strict";var a=n("bAlQ"),i=n("sxMV"),r=n("VU/8"),c=r(a.a,i.a,null,null,null);t.a=c.exports},"7iic":function(e,t,n){"use strict";var a=n("/4j5"),i=n("ty/p"),r=n("VU/8"),c=r(a.a,i.a,null,null,null);t.a=c.exports},DqXe:function(e,t){},FUee:function(e,t,n){"use strict";var a=n("YuEd"),i=n("M4fF"),r=n.n(i);t.a={mixins:[a.a],props:{columns:Array,tableWidth:Number},computed:{groupedCol:function(){return r.a.groupBy(this.columns,function(e){return e.row})},mainCols:function(){return this.groupedCol[void 0]},subCols:function(){return this.groupedCol[2]||[]},effectedCols:function(){return r.a.filter(this.columns,function(e){return!e.colspan})}}}},M3D8:function(e,t){},M93x:function(e,t,n){"use strict";function a(e){n("07ry")}var i=n("xJD8"),r=n("0mAl"),c=n("VU/8"),l=a,o=c(i.a,r.a,l,null,null);t.a=o.exports},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),i=n("M93x");a.a.config.productionTip=!1,new a.a({el:"#app",template:"<App/>",components:{App:i.a}})},WbEP:function(e,t,n){"use strict";var a=n("FUee"),i=n("1rbW"),r=n("VU/8"),c=r(a.a,i.a,null,null,null);t.a=c.exports},YuEd:function(e,t,n){"use strict";t.a={methods:{setCellWidth:function(e,t,n){var a="";return a=e.width?e.width:"","0"===a&&(a=""),-1===a.toString().indexOf("px")&&-1===a.toString().indexOf("%")&&(a+="px"),a}}}},bAlQ:function(e,t,n){"use strict";t.a={props:{renderType:"",naturalIndex:Number,column:Object,row:Object}}},pMZz:function(e,t,n){"use strict";var a=n("DAYN"),i=n.n(a),r=n("7iic"),c=n("M4fF"),l=n.n(c);t.a={name:"hello",components:{uTable:r.a,draggable:i.a},data:function(){return{msg:"Welcome to Your Vue.js App",columnsMulti:this.formatColumn([{title:"序号",field:"index",width:100,rowspan:2,fixed:!0},{title:"物料",field:"materialName",width:200,rowspan:2,titlerender:function(){},fixed:!0},{title:"采购数量",field:"purchaseamount",width:100,rowspan:2,fixed:!0,hidden:!0},{title:"供应商",field:"supEnterpriseName",width:200,rowspan:2,fixed:!0},{title:"报价",colspan:3},{title:"含税单价",field:"acceptancePrice",width:200,row:2},{title:"无税单价",field:"noTaxAcceptancePrice",width:200,row:2},{title:"税率",field:"taxrate",width:200,row:2},{title:"定标价",colspan:3},{title:"含税单价",field:"acceptancePrice",width:200,row:2},{title:"中标数量",field:"noTaxAcceptancePrice",width:200,row:2},{title:"含税总价",field:"taxrate",width:200,row:2}]),columns:[{title:"主键",field:"id",width:200,fixed:!0},{title:"名称",field:"name",width:400},{title:"名称3",field:"name",width:400}],data:[{id:1,name:"name1",index:1,materialName:"物料名称1",taxrate:"17%",noTaxAcceptancePrice:20,acceptancePrice:24,supEnterpriseName:"供应商名称",purchaseamount:10},{id:2,name:"name2",index:2,materialName:"物料名称2",taxrate:"17%",noTaxAcceptancePrice:20,acceptancePrice:24,supEnterpriseName:"供应商名称",purchaseamount:7},{id:3,name:"name3",index:1,materialName:"物料名称3",taxrate:"17%",noTaxAcceptancePrice:20,acceptancePrice:24,supEnterpriseName:"供应商22名称",purchaseamount:1},{id:4,name:"name4",index:1,materialName:"物料名称1",taxrate:"17%",noTaxAcceptancePrice:20,acceptancePrice:24,supEnterpriseName:"供应商名称",purchaseamount:10},{id:5,name:"name5",index:1,materialName:"物料名称1",taxrate:"17%",noTaxAcceptancePrice:20,acceptancePrice:24,supEnterpriseName:"供应商名称",purchaseamount:10},{id:6,name:"name6",index:1,materialName:"物料名称1",taxrate:"17%",noTaxAcceptancePrice:20,acceptancePrice:24,supEnterpriseName:"供应商名称",purchaseamount:10},{id:7,name:"name7",index:1,materialName:"物料名称1",taxrate:"17%",noTaxAcceptancePrice:20,acceptancePrice:24,supEnterpriseName:"供应商名称",purchaseamount:10},{id:8,name:"name8",index:1,materialName:"物料名称1",taxrate:"17%",noTaxAcceptancePrice:20,acceptancePrice:24,supEnterpriseName:"供应商名称",purchaseamount:10},{id:10,name:"name10",index:1,materialName:"物料名称1",taxrate:"17%",noTaxAcceptancePrice:20,acceptancePrice:24,supEnterpriseName:"供应商名称",purchaseamount:10},{id:2,name:"name2",index:1,materialName:"物料名称1",taxrate:"17%",noTaxAcceptancePrice:20,acceptancePrice:24,supEnterpriseName:"供应商名称",purchaseamount:10},{id:1,name:"name1",index:1,materialName:"物料名称1",taxrate:"17%",noTaxAcceptancePrice:20,acceptancePrice:24,supEnterpriseName:"供应商名称",purchaseamount:6},{id:2,name:"name2",index:1,materialName:"物料名称1",taxrate:"17%",noTaxAcceptancePrice:20,acceptancePrice:24,supEnterpriseName:"供应商名称",purchaseamount:10}],cloneColumnsMulti:[]}},computed:{computedCol:{get:function(){return this.convertColumns2TreeColumns()},set:function(e){this.cloneColumnsMulti=this.convertTreeColumns2Columns(e),this.convert2Datatable()}}},methods:{formatColumn:function(e){return e.forEach(function(e){e.hidden=!!e.hidden&&e.hidden}),e},setVisible:function(e,t){e.hidden=!e.hidden,e.children.forEach(function(t){t.hidden=!e.hidden})},convert2Datatable:function(){this.columnsMulti=this.convertTreeColumns2Columns(this.computedCol)},convertTreeColumns2Columns:function(e){var t=[];return e.forEach(function(e){t.push(e),e.children&&e.children.length>0&&(t=l.a.concat(t,e.children))}),t},convertColumns2TreeColumns:function(){for(var e=this.cloneColumnsMulti.length>0?this.cloneColumnsMulti:this.columnsMulti,t=[],n=0;n<e.length;n++){var a=e[n];if(a.children=[],e[n].colspan){for(var i=1;i<=e[n].colspan;i++)e[n].children.push(e[n+i]);n+=a.colspan}a&&t.push(a)}return console.log(t),t}}}},qSdX:function(e,t,n){"use strict";function a(e){n("DqXe")}var i=n("pMZz"),r=n("xAVs"),c=n("VU/8"),l=a,o=c(i.a,r.a,l,"data-v-28598958",null);t.a=o.exports},qX34:function(e,t,n){"use strict";var a=n("YuEd"),i=n("5RII"),r=n("M4fF"),c=n.n(r);t.a={mixins:[a.a],props:{columns:Array,data:Array,leftFixedColumns:Array,fixed:{type:Boolean,default:!1},tableWidth:Number},components:{Cell:i.a},computed:{effectedCols:function(){return c.a.filter(this.columns,function(e){return!e.colspan})}}}},sxMV:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ucloud-cell"},["index"===e.renderType?[e._v(e._s(e.naturalIndex+1))]:[n("span",[e._v(e._s(e.row[e.column.field]))])]],2)},i=[],r={render:a,staticRenderFns:i};t.a=r},"ty/p":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ucloud-table",style:e.caculateStyle},[n("div",{ref:"header",staticClass:"ucloud-table-head"},[n("u-head",{attrs:{columns:e.columns,tableWidth:e.tableWidth}})],1),e._v(" "),n("div",{staticClass:"ucloud-table-body",style:{height:e.height},on:{scroll:e.handleBodyScroll}},[n("u-body",{attrs:{columns:e.columns,tableWidth:e.tableWidth,data:e.data}})],1),e._v(" "),n("div",{staticClass:"ucloud-table-fixed",style:e.fixedTableStyle},[n("u-head",{attrs:{columns:e.columns,tableWidth:e.tableWidth}}),e._v(" "),n("div",{ref:"fixedBody",staticClass:"ucloud-table-fixed-body",style:{height:e.fixBodyHeight}},[n("u-body",{attrs:{columns:e.columns,tableWidth:e.tableWidth,data:e.data,fixed:!0,leftFixedColumns:e.leftFixedColumns}})],1)],1)])},i=[],r={render:a,staticRenderFns:i};t.a=r},xAVs:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("h1",[e._v("自定义列顺序及固定表头左侧列表格Demo by songhlc")]),e._v(" "),n("p",[e._v("\n    以下为自定义列区域，可以使用鼠标进行拖拽重排,后续还会加入以下功能\n  ")]),e._v(" "),n("h3",[e._v("1.指定列隐藏/显示")]),e._v(" "),n("h3",[e._v("2.指定列修改标题")]),e._v(" "),n("h3",[e._v("3.其他可能的个性化需求")]),e._v(" "),n("p",[e._v("以下仅为demo具体交互需要高强辅助设计一下")]),e._v(" "),n("draggable",{attrs:{options:{group:"outside",animation:150}},on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1}},model:{value:e.computedCol,callback:function(t){e.computedCol=t},expression:"computedCol"}},e._l(e.computedCol,function(t,a){return n("div",{staticClass:"ctn",class:{draggable:!t.fixed||!t.colspan}},[n("span",{staticClass:"fa fa-eye",class:{active:!t.hidden},on:{click:function(n){n.stopPropagation(),e.setVisible(t,a)}}}),e._v(e._s(t.title)+"\n      "),n("div",{staticClass:"child-ctn"},[n("draggable",{attrs:{options:{group:"inside",animation:150}},on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1}},model:{value:t.children,callback:function(e){t.children=e},expression:"element.children"}},e._l(t.children,function(t){return n("div",{staticClass:"child-item"},[e._v("\n            "+e._s(t.title)+"\n          ")])}))],1)])})),e._v(" "),n("div",{staticStyle:{"margin-bottom":"20px"}}),e._v(" "),n("div",{staticStyle:{display:"none","background-color":"rgb(65, 184, 131)",border:"1px solid rgb(238, 238, 238)",margin:"10px",padding:"5px 10px",color:"#FFF","border-radius":"4px"},on:{click:e.convert2Datatable}},[e._v("重绘")]),e._v(" "),n("u-table",{attrs:{columns:e.columnsMulti,data:e.data,height:"200px"}}),e._v(" "),e._m(0)],1)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticStyle:{display:"none"},attrs:{border:"1"}},[n("colgroup",[n("col",{attrs:{width:"20%"}}),e._v(" "),n("col",{attrs:{width:"30%"}}),e._v(" "),n("col",{attrs:{width:"10%"}}),e._v(" "),n("col",{attrs:{width:"20%"}}),e._v(" "),n("col",{attrs:{width:"20%"}})]),e._v(" "),n("thead",[n("tr",[n("td",{attrs:{rowspan:"2"}},[e._v("高2列")]),e._v(" "),n("td",{attrs:{colspan:"2"}},[e._v("宽2列")]),e._v(" "),n("td",{attrs:{rowspan:"2"}},[e._v("一列")]),e._v(" "),n("td",{attrs:{rowspan:"2"}},[e._v("一列")])]),e._v(" "),n("tr",[n("td",[e._v("第二列")]),e._v(" "),n("td",[e._v("第二列")])])]),e._v(" "),n("tbody",[n("tr",[n("td",[e._v("第一列")]),e._v(" "),n("td",[e._v("第二列")]),e._v(" "),n("td",[e._v("第三列")]),e._v(" "),n("td",[e._v("第四列")]),e._v(" "),n("td",[e._v("第五列")])])])])}],r={render:a,staticRenderFns:i};t.a=r},xJD8:function(e,t,n){"use strict";var a=n("qSdX");t.a={name:"app",components:{Hello:a.a}}}},["NHnr"]);
//# sourceMappingURL=app.57188c34e2e61d642520.js.map